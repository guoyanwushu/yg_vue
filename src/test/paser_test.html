<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>parser test</title>
</head>
<body>

</body>
<script src="../core/parser/html_parser.js"></script>
<script>
  var doms = parser('<div id="container" class="container"><p>hello world</p><footer><ul><li>列表项1</li><li>列表项2</li></ul></footer></div>');
  console.log(doms[0])
  console.log(formatRealDom(doms[0]));
  // 根据parser出来的结构，组装成真实的dom树
  function formatRealDom(tree) {
    var type = tree.type;
    var dom;
    if (type == 'element') {
      dom = document.createElement(tree.tag);
    } else if (type == 'text') {
      dom = document.createTextNode(tree.data)
    }
    if (tree.children) {
      for (var i=0; i<tree.children.length;i++) {
        dom.appendChild(formatRealDom(tree.children[i]))
      }
    }
    return dom
  }
</script>
</html>